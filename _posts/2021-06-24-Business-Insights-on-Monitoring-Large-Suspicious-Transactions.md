---
title: 大额可疑交易监控模型心得
categories: 开发随笔
tags: [建模]
description: 
comments: false
author: Tang Qi
sidebar:
  nav: docs-cn
aside:
  toc: true
layout: post
---

在不同省份 训练、测试、部署 大额可疑交易监控模型时，发现训练出的主要特征重要性排序有较大差异。地方法规部的业务一线同事认为符合经验。因此，可疑交易的特征具有地区性、活跃月份不同、画像不尽相同等差异。



举例，长三角地区，可疑交易来源重头在金融诈骗、非法吸收公众存款、非法跨境转移资金；中部、北部地区，重头之一在非法经营（地下钱庄、非法买卖外汇、POS机套现、其他套现）以及组织经营赌博或为其转移资金；南部地区，需要关注组织领导传销活动、诈骗（如电信诈骗）。在交易对手上也可提现出差异。在月份方面，在部分地区或呈现夏季、年尾高发，但在不同年份有所差异，只作事后辅助分析。



由于通过对公途径进行可疑交易的成本高，除交易本身，可关注企业自身信息，例如经营业务、注册资金、年限、账户数等，辅以风险等级评估。而对私主要集中在交易特征本身，不同地区尽管可疑来源、交易对手有所不同，但在归并过程中，头部交易特征的范围是一致的。对于排位靠后的特征，模型或与一线经验有出入，以业务优先为主原则，



在数据清洗上，需要留意人行关于重复上报的政策，以及延迟上报案例的标记。特征数据的来源场景众多，例如，网银交易，审计 等。意料之外的是，混合全部特征做大模型的效果反而不如根据相似场景划分建子模型，然后根据预测输出的得分排序 效果来得好。业务逻辑上看，应该是不同场景提供的特证，对于可疑交易的甄别的帮助程度有差异，对于不够强相关的场景，不同的经验也会出现在判定上有评判标准差异的案例，或者对于这些特征，模型统一的超参设置可能导致些许过拟合、欠拟合。因此，根据场景创建子模型与设置超参，然后合并score并排序，表现更好。



对于可疑个体的评估，有监督学习中gbdt boosting类方法表现最好。其中，xgboost 判别最优 而lightGBM 次之但胜在效率。 如果历史数据充沛且准确，这部分模型已经可以提供95%+的查准，92%+的查全（以人工甄别的上报案例为基准）。如果训练数据量级上不够理想，容易出现过拟合时，除了调节boost算法中的超参数，可辅以异常检测、深度学习算法，而后通过回归类算法加权表决。在异常检测算法中， 以孤立森林表现最优，svm次之但不稳定，其他的算法表现都不够理想，例如 k-means，svm等。但如果历史数据充分且准确，则仅boosting类算法得到的结果反而已经是最优的，无需组合算法。



对于团伙的评估，大额交易的交易方与交易对手天然是强关联的， 通过这部分信息构成无向图，然后利用社区发现类算法，结果表现优秀而且可解释。louvain （fast-unfolding）算法在其他反欺诈，反作弊场景中也很常用。而对于没有强关联的场景，可通过关联子图来挖掘潜在的相似群体、异常模式。图谱性质的模型，在可解释性和查全率上，要优于传统机器学习类模型。



















